(this.$WP=this.$WP||[]).push(["1j3bsm",(e,n)=>{"use strict";var t,s,a,l,o,i,r,c,d,u,p,h,g,m,w,v,_,f,y,b,C,E,M,N,S,x,k,O="GOOGLE_ONETAP",G=({enhancedGoogleOneTapGate:e})=>t((()=>e?{pid:40670,flow:O,deferShowOverlay:!0}:{pid:40185,flow:O,deferShowOverlay:!0}),[e]),R=()=>{var e=s((()=>w.remove("g_state")),[]);return a((()=>e),[e]),e},q=({onNotDisplayed:e,onUserSkipped:n,onCredentialReady:i,containerId:r,flow:c,pid:d})=>{var u=l(null),[w,v]=o(!1),_=p(),f=C(),y=s(((e,n)=>{_({module:"google_onetap",action:e,context:`${n}|${c}`,value:d})}),[c,d,_]),b=s((e=>{e&&(y("credentials_success",e.select_by),i(e.credential),v(!1))}),[i,y]),E=s(((n,t)=>{y("display_event",t||"success"),g(n),v(n),n||e()}),[e,y]),M=s((e=>{y("skipped_event",e),v(!1),"user_cancel"===e&&n()}),[n,y]),N=s((e=>{y("dismiss_event",e),v(!1)}),[y]),S=s((e=>{switch(f(),e.getMomentType()){case"display":E(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":M(e.getSkippedReason());break;case"dismissed":N(e.getDismissedReason())}}),[f,N,M,E]),x=s((e=>{null===u.current&&(u.current=e,y("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:b,cancel_on_tap_outside:!1,prompt_parent_id:r,auto_select:!m()}),e.prompt(S))}),[b,S,r,y]);return a((()=>{y("script_requested","na"),h("https://accounts.google.com/gsi/client","MEMX").then((()=>{var e,n,t,s=()=>x(window.google.accounts.id);null!=(e=window.google)&&null!=(n=e.accounts)&&null!=(t=n.id)&&t.initialize?s():window.onGoogleLibraryLoad=s}))}),[x,y]),a((()=>()=>{u.current&&u.current.cancel()}),[]),t((()=>({shown:w})),[w])},I=()=>({top:110,bottom:0}),L="ZkqhQ Gi B1 Z BB Cj Za",P="QnnKe z",T="MPoqM Cj",j="LcmJt Cj Hn o q f u",D=({bottom:e})=>{var n=d(),{userAgentCategory:s}=r(),a=t((()=>"MOBILE"===s),[s]);return f("div",a?{className:v("SuwMt D Gi l",L),style:{bottom:`${e||0}px`},children:f("div",{className:P,children:y("h3",{className:j,children:[f("span",{className:T,children:f(_,{})}),f(c,{id:"onetap_message_unlock"})," "]})})}:{className:v(L,{wVHIl:n}),children:y("div",{className:P,children:[y("h3",{className:j,children:[f("span",{className:T,children:f(_,{})}),f(c,{id:"onetap_message_unlock"})," "]}),y("p",{className:"ZnAJV Cj o q",children:[f(c,{id:"onetap_message_subhead_to_get_the_most"})," "]})]})})},z=({shown:e,isContextualMessagingEnabled:n,onShow:t})=>{var{bottom:s}=M(),[l,i]=o(!1),[r,c]=o(0);return a((()=>{if(!e)return()=>{};var t=document.getElementById("credential_picker_iframe");if(t){if(t.style.bottom=`${s}px`,t.style.zIndex="10105",!n)return()=>{};var a,l=new MutationObserver((e=>{var n,t,s=null==e||null==(n=e[0])?void 0:n.target;if(s instanceof HTMLElement){clearTimeout(a);var l=parseInt((null==s||null==(t=s.style)?void 0:t.height)||"0",10),o=isNaN(l)?0:l-9;a=setTimeout((()=>{c(o),i(o>0)}),400)}}));return l.observe(t,{attributes:!0}),()=>{l.disconnect(),clearTimeout(a)}}return()=>{}}),[s,e,n]),a((()=>{e&&t&&t()}),[e,t]),e&&l?f(N,{bottom:r+s}):null},A=({shown:e,containerId:n,isContextualMessagingEnabled:t,onShow:s})=>{var{top:i}=M(),[r,c]=o(!1),d=l(null);return a((()=>{if(e&&d&&d.current){var n=d.current.children[0];n&&(n.style.zIndex="10107",n.children&&0!==n.children.length&&(n.children[0].onload=()=>{c(t)}))}}),[e,t]),a((()=>{e&&s&&s()}),[e,s]),y("div",{className:v("mxEhR D P0 G- Za f e u",{LEMGe:!e}),style:{top:i},children:[r&&f(N,{}),f("div",{id:n,className:"hRNvt M0",ref:d})]})},B=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],$="tripGoogleOnetapContainer",Z=({trackWouldOpenExplicitPreferences:e,openExplicitPreferences:n,explicitPreferencesEnabled:t,servletName:a,enhancedGoogleOneTapGate:l,onDismiss:o,onShow:c,triggerNext:d})=>{var p=i(),h=b({enhancedGoogleOneTapGate:l}),g=u(),m=s((s=>{p({extraQueryParams:{google_id_token:s},onSuccess:s=>{s&&!0===s.hasCreatedMember&&(e&&e(),t&&n&&n())},onClose:()=>{k.has(g)||window.location.reload()},...h})}),[p,h,e,t,n,g]),{shown:w}=E({onNotDisplayed:()=>{d(),o()},onUserSkipped:o,onCredentialReady:m,containerId:$,pid:h.pid,flow:h.flow}),{userAgentCategory:v}=r();return"MOBILE"===v?f(S,{shown:w,onShow:c,isContextualMessagingEnabled:null==a||!B.includes(a)}):f(x,{shown:w,onShow:c,containerId:$,isContextualMessagingEnabled:null==a||!B.includes(a)})};return[()=>{b=G,C=R,E=q,M=I,N=D,S=z,x=A,k=new Set(["en-US","es-AR","es-CL","es-CO","es-MX","es-PE","es-VE"]),e("default",Z)},[e=>(t=e.useMemo,s=e.useCallback,a=e.useEffect,l=e.useRef,o=e.useState),e=>i=e.default,e=>r=e.useUserAgent,e=>(c=e.default,d=e.useRtl,u=e.useLocale),e=>p=e.useGARecorder,e=>h=e.importScript,e=>(g=e.setOneTapEligibility,m=e.userSignedOut),e=>w=e.default,e=>v=e.default,e=>_=e.default,e=>(f=e.jsx,y=e.jsxs)]]},["1o4yt4","lchj5q","1nnprh","17thqz","32pwc7","1q7wvk","cyrz7y","5gpqhx","fkji80","ympq4z","121h32"]]);
